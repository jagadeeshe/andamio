/***

    Provides a Facebook-like off-canvas menu pattern

    Requires:
    .viewport
        .page-wrapper
            .page-content-navigation-toggle
        .page-navigation

    Expects:
    .has-navigation on the document

***/

/*** Prevent horizontal scrolling when menu is open ***/
html,
body {
    width: 100%;
    overflow-x: hidden;
}

/*** Shared styles ***/

.page-wrapper {
    position: relative;
    z-index: 2;
}

    /*** Setup navigation toggle, but don't give it dimensions ***/
    .page-navigation-toggle {
        .overlay-right;

        /*** Make navigation toggle clickable ***/
        .has-navigation & {
            left: 0;
        }
    }


/*** Toggle ***/
.website {

    /*** .page-navigation is positioned outside the .page-wrapper ***/
    .page-navigation {
        .overlay-top-left;
        width: @nav-width;
        left: -@nav-width;
    }

    &.has-navigation {

        /*** Put it in the correct place ***/
        .page-navigation {
            left: 0;
        }

        .page-wrapper {
            overflow: hidden;
            left: @nav-width;
        }
    }
}


/*** Webapp slides down the .page-wrapper ***/
.webapp {
    .page-navigation {
        .overlay-top;

        // animation
        .animate();
        .shrink;
        .fade;
    }

    .page-wrapper {
        .animate();
    }

    /*** Slide down the page wrapper ***/
    &.has-navigation {

        .page-navigation {
            .translate3d(0);
            .unshrink;
            .unfade;
        }

        .page-wrapper {
            .translate3d(0, @nav-height);
        }

    }

}